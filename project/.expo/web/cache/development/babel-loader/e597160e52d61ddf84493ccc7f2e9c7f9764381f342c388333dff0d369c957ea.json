{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nfunction _callSuper(_this, derived, args) {\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n      return !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    } catch (e) {\n      return false;\n    }\n  }\n  derived = _getPrototypeOf(derived);\n  return _possibleConstructorReturn(_this, isNativeReflectConstruct() ? Reflect.construct(derived, args || [], _getPrototypeOf(_this).constructor) : derived.apply(_this, args));\n}\nimport ReferenceBase from \"../../utils/ReferenceBase\";\nimport StorageTask, { UPLOAD_TASK, DOWNLOAD_TASK } from \"./task\";\nimport { isIOS } from \"../../utils\";\nimport { getNativeModule } from \"../../utils/native\";\nvar StorageReference = function (_ReferenceBase) {\n  function StorageReference(storage, path) {\n    var _this2;\n    _classCallCheck(this, StorageReference);\n    _this2 = _callSuper(this, StorageReference, [path]);\n    _this2._storage = storage;\n    return _this2;\n  }\n  _inherits(StorageReference, _ReferenceBase);\n  return _createClass(StorageReference, [{\n    key: \"fullPath\",\n    get: function get() {\n      return this.path;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return `gs://${this._storage.app.options.storageBucket}${this.path}`;\n    }\n  }, {\n    key: \"child\",\n    value: function child(path) {\n      return new StorageReference(this._storage, `${this.path}/${path}`);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      return getNativeModule(this._storage).delete(this.path);\n    }\n  }, {\n    key: \"getDownloadURL\",\n    value: function getDownloadURL() {\n      return getNativeModule(this._storage).getDownloadURL(this.path);\n    }\n  }, {\n    key: \"getMetadata\",\n    value: function getMetadata() {\n      return getNativeModule(this._storage).getMetadata(this.path);\n    }\n  }, {\n    key: \"updateMetadata\",\n    value: function updateMetadata() {\n      var metadata = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return getNativeModule(this._storage).updateMetadata(this.path, metadata);\n    }\n  }, {\n    key: \"downloadFile\",\n    value: function downloadFile(filePath) {\n      return new StorageTask(DOWNLOAD_TASK, getNativeModule(this._storage).downloadFile(this.path, filePath), this);\n    }\n  }, {\n    key: \"put\",\n    get: function get() {\n      return this.putFile;\n    }\n  }, {\n    key: \"putFile\",\n    value: function putFile(filePath) {\n      var metadata = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _filePath = isIOS ? filePath.replace('file://', '') : filePath;\n      if (_filePath.includes('%')) _filePath = decodeURIComponent(_filePath);\n      return new StorageTask(UPLOAD_TASK, getNativeModule(this._storage).putFile(this.path, _filePath, metadata), this);\n    }\n  }]);\n}(ReferenceBase);\nexport { StorageReference as default };","map":{"version":3,"names":["ReferenceBase","StorageTask","UPLOAD_TASK","DOWNLOAD_TASK","isIOS","getNativeModule","StorageReference","_ReferenceBase","storage","path","_this2","_classCallCheck","_callSuper","_storage","_inherits","_createClass","key","get","value","toString","app","options","storageBucket","child","_delete","delete","getDownloadURL","getMetadata","updateMetadata","metadata","arguments","length","undefined","downloadFile","filePath","putFile","_filePath","replace","includes","decodeURIComponent","default"],"sources":["C:/Users/Johnny Hermitano/Documents/GitHub/sofdes_watermelon/project/node_modules/react-native-firebase/dist/modules/storage/reference.js"],"sourcesContent":["/**\n * \n * StorageReference representation wrapper\n */\nimport ReferenceBase from '../../utils/ReferenceBase';\nimport StorageTask, { UPLOAD_TASK, DOWNLOAD_TASK } from './task';\nimport { isIOS } from '../../utils';\nimport { getNativeModule } from '../../utils/native';\n\n/**\n * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference\n */\nexport default class StorageReference extends ReferenceBase {\n  constructor(storage, path) {\n    super(path);\n    this._storage = storage;\n  }\n\n  get fullPath() {\n    return this.path;\n  }\n\n  toString() {\n    return `gs://${this._storage.app.options.storageBucket}${this.path}`;\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#child\n   * @param path\n   * @returns {StorageReference}\n   */\n\n\n  child(path) {\n    return new StorageReference(this._storage, `${this.path}/${path}`);\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#delete\n   * @returns {Promise.<T>|*}\n   */\n\n\n  delete() {\n    return getNativeModule(this._storage).delete(this.path);\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#getDownloadURL\n   * @returns {Promise.<T>|*}\n   */\n\n\n  getDownloadURL() {\n    return getNativeModule(this._storage).getDownloadURL(this.path);\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#getMetadata\n   * @returns {Promise.<T>|*}\n   */\n\n\n  getMetadata() {\n    return getNativeModule(this._storage).getMetadata(this.path);\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#updateMetadata\n   * @param metadata\n   * @returns {Promise.<T>|*}\n   */\n\n\n  updateMetadata(metadata = {}) {\n    return getNativeModule(this._storage).updateMetadata(this.path, metadata);\n  }\n  /**\n   * Downloads a reference to the device\n   * @param {String} filePath Where to store the file\n   * @return {Promise}\n   */\n\n\n  downloadFile(filePath) {\n    return new StorageTask(DOWNLOAD_TASK, getNativeModule(this._storage).downloadFile(this.path, filePath), this);\n  }\n  /**\n   * Alias to putFile\n   * @returns {StorageReference.putFile}\n   */\n\n\n  get put() {\n    return this.putFile;\n  }\n  /**\n   * Upload a file path\n   * @param  {string} filePath The local path of the file\n   * @param  {object} metadata An object containing metadata\n   * @return {Promise}\n   */\n\n\n  putFile(filePath, metadata = {}) {\n    let _filePath = isIOS ? filePath.replace('file://', '') : filePath;\n\n    if (_filePath.includes('%')) _filePath = decodeURIComponent(_filePath);\n    return new StorageTask(UPLOAD_TASK, getNativeModule(this._storage).putFile(this.path, _filePath, metadata), this);\n  }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}