{"ast":null,"code":"import NativeModules from \"react-native-web/dist/exports/NativeModules\";\nimport App from \"../modules/core/app\";\nimport INTERNALS from \"./internals\";\nimport { isAndroid, isObject, isString } from \"./\";\nvar FirebaseCoreModule = NativeModules.RNFirebase;\nvar APPS = {};\nvar DEFAULT_APP_NAME = '[DEFAULT]';\nvar APP_MODULES = {};\nvar CUSTOM_URL_OR_REGION_NAMESPACES = {\n  database: true,\n  functions: true,\n  storage: false,\n  admob: false,\n  analytics: false,\n  auth: false,\n  config: false,\n  crashlytics: false,\n  firestore: false,\n  iid: false,\n  invites: false,\n  links: false,\n  messaging: false,\n  notifications: false,\n  perf: false,\n  utils: false\n};\nexport default {\n  DEFAULT_APP_NAME: DEFAULT_APP_NAME,\n  app: function app(name) {\n    var _name = name ? name.toUpperCase() : DEFAULT_APP_NAME;\n    var app = APPS[_name];\n    if (!app) throw new Error(INTERNALS.STRINGS.ERROR_APP_NOT_INIT(_name));\n    return app;\n  },\n  apps: function apps() {\n    return Object.values(APPS);\n  },\n  appModule: function appModule(app, namespace, InstanceClass) {\n    return function () {\n      var customUrlOrRegion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (customUrlOrRegion && !CUSTOM_URL_OR_REGION_NAMESPACES[namespace]) {\n        throw new Error(INTERNALS.STRINGS.ERROR_INIT_SERVICE_URL_OR_REGION_UNSUPPORTED(namespace));\n      }\n      var appInstanceIdentifier = `${app.name}${customUrlOrRegion || ''}`;\n      if (!APP_MODULES[appInstanceIdentifier]) {\n        APP_MODULES[appInstanceIdentifier] = {};\n      }\n      if (!APP_MODULES[appInstanceIdentifier][namespace]) {\n        APP_MODULES[appInstanceIdentifier][namespace] = new InstanceClass(app, customUrlOrRegion);\n        if (isAndroid && namespace !== 'utils' && !INTERNALS.FLAGS.checkedPlayServices) {\n          INTERNALS.FLAGS.checkedPlayServices = true;\n          app.utils().checkPlayServicesAvailability();\n        }\n      }\n      return APP_MODULES[appInstanceIdentifier][namespace];\n    };\n  },\n  deleteApp: function deleteApp(name) {\n    var app = APPS[name];\n    if (!app) return;\n    delete APPS[name];\n  },\n  initializeApp: function initializeApp(options, name) {\n    if (name && !isString(name)) {\n      throw new Error(INTERNALS.STRINGS.ERROR_INIT_STRING_NAME);\n    }\n    var _name = (name || DEFAULT_APP_NAME).toUpperCase();\n    if (APPS[_name]) {\n      console.warn(INTERNALS.STRINGS.WARN_INITIALIZE_DEPRECATION);\n      return APPS[_name];\n    }\n    if (!isObject(options)) {\n      throw new Error(INTERNALS.STRINGS.ERROR_INIT_OBJECT);\n    }\n    if (!options.apiKey) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('apiKey'));\n    }\n    if (!options.appId) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('appId'));\n    }\n    if (!options.databaseURL) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('databaseURL'));\n    }\n    if (!options.messagingSenderId) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('messagingSenderId'));\n    }\n    if (!options.projectId) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('projectId'));\n    }\n    if (!options.storageBucket) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('storageBucket'));\n    }\n    APPS[_name] = new App(_name, options);\n    return APPS[_name];\n  },\n  initializeNativeApps: function initializeNativeApps() {\n    for (var i = 0, len = FirebaseCoreModule.apps.length; i < len; i++) {\n      var app = FirebaseCoreModule.apps[i];\n      var options = Object.assign({}, app);\n      delete options.name;\n      APPS[app.name.toUpperCase()] = new App(app.name.toUpperCase(), options, true);\n    }\n  },\n  moduleAndStatics: function moduleAndStatics(namespace, statics, moduleName) {\n    var _this = this;\n    var getModule = function getModule(appOrUrlOrRegion, customUrlOrRegion) {\n      var _app = appOrUrlOrRegion;\n      var _customUrlOrRegion = customUrlOrRegion || null;\n      if (typeof appOrUrlOrRegion === 'string' && CUSTOM_URL_OR_REGION_NAMESPACES[namespace]) {\n        _app = null;\n        _customUrlOrRegion = appOrUrlOrRegion;\n      }\n      if (_app && !(_app instanceof App)) {\n        throw new Error(INTERNALS.STRINGS.ERROR_NOT_APP(namespace));\n      } else if (!_app) {\n        _app = _this.app(DEFAULT_APP_NAME);\n      }\n      var module = _app[namespace];\n      return module(_customUrlOrRegion);\n    };\n    return Object.assign(getModule, statics, {\n      nativeModuleExists: !!NativeModules[moduleName]\n    });\n  }\n};","map":{"version":3,"names":["App","INTERNALS","isAndroid","isObject","isString","FirebaseCoreModule","NativeModules","RNFirebase","APPS","DEFAULT_APP_NAME","APP_MODULES","CUSTOM_URL_OR_REGION_NAMESPACES","database","functions","storage","admob","analytics","auth","config","crashlytics","firestore","iid","invites","links","messaging","notifications","perf","utils","app","name","_name","toUpperCase","Error","STRINGS","ERROR_APP_NOT_INIT","apps","Object","values","appModule","namespace","InstanceClass","customUrlOrRegion","arguments","length","undefined","ERROR_INIT_SERVICE_URL_OR_REGION_UNSUPPORTED","appInstanceIdentifier","FLAGS","checkedPlayServices","checkPlayServicesAvailability","deleteApp","initializeApp","options","ERROR_INIT_STRING_NAME","console","warn","WARN_INITIALIZE_DEPRECATION","ERROR_INIT_OBJECT","apiKey","ERROR_MISSING_OPT","appId","databaseURL","messagingSenderId","projectId","storageBucket","initializeNativeApps","i","len","assign","moduleAndStatics","statics","moduleName","_this","getModule","appOrUrlOrRegion","_app","_customUrlOrRegion","ERROR_NOT_APP","module","nativeModuleExists"],"sources":["C:/Users/Johnny Hermitano/Documents/GitHub/sofdes_watermelon/project/node_modules/react-native-firebase/dist/utils/apps.js"],"sourcesContent":["import { NativeModules } from 'react-native';\nimport App from '../modules/core/app';\nimport INTERNALS from './internals';\nimport { isAndroid, isObject, isString } from './';\nconst FirebaseCoreModule = NativeModules.RNFirebase;\nconst APPS = {};\nconst DEFAULT_APP_NAME = '[DEFAULT]';\nconst APP_MODULES = {};\nconst CUSTOM_URL_OR_REGION_NAMESPACES = {\n  database: true,\n  functions: true,\n  storage: false,\n  // TODO true once multi-bucket support added.\n  // for flow:\n  admob: false,\n  analytics: false,\n  auth: false,\n  config: false,\n  crashlytics: false,\n  firestore: false,\n  iid: false,\n  invites: false,\n  links: false,\n  messaging: false,\n  notifications: false,\n  perf: false,\n  utils: false\n};\nexport default {\n  DEFAULT_APP_NAME,\n\n  app(name) {\n    const _name = name ? name.toUpperCase() : DEFAULT_APP_NAME;\n\n    const app = APPS[_name];\n    if (!app) throw new Error(INTERNALS.STRINGS.ERROR_APP_NOT_INIT(_name));\n    return app;\n  },\n\n  apps() {\n    // $FlowExpectedError: Object.values always returns mixed type: https://github.com/facebook/flow/issues/2221\n    return Object.values(APPS);\n  },\n\n  /**\n   *\n   * @param app\n   * @param namespace\n   * @param InstanceClass\n   * @return {function()}\n   * @private\n   */\n  appModule(app, namespace, InstanceClass) {\n    return (customUrlOrRegion = null) => {\n      if (customUrlOrRegion && !CUSTOM_URL_OR_REGION_NAMESPACES[namespace]) {\n        throw new Error(INTERNALS.STRINGS.ERROR_INIT_SERVICE_URL_OR_REGION_UNSUPPORTED(namespace));\n      }\n\n      const appInstanceIdentifier = `${app.name}${customUrlOrRegion || ''}`;\n\n      if (!APP_MODULES[appInstanceIdentifier]) {\n        APP_MODULES[appInstanceIdentifier] = {};\n      }\n\n      if (!APP_MODULES[appInstanceIdentifier][namespace]) {\n        APP_MODULES[appInstanceIdentifier][namespace] = new InstanceClass(app, customUrlOrRegion); // only check once on new app namespace instance\n\n        if (isAndroid && namespace !== 'utils' && !INTERNALS.FLAGS.checkedPlayServices) {\n          INTERNALS.FLAGS.checkedPlayServices = true;\n          app.utils().checkPlayServicesAvailability();\n        }\n      }\n\n      return APP_MODULES[appInstanceIdentifier][namespace];\n    };\n  },\n\n  /**\n   *\n   * @param name\n   * @returns {*}\n   */\n  deleteApp(name) {\n    const app = APPS[name];\n    if (!app) return;\n    delete APPS[name];\n  },\n\n  /**\n   * Web SDK initializeApp\n   *\n   * @param options\n   * @param name\n   * @return {*}\n   */\n  initializeApp(options, name) {\n    if (name && !isString(name)) {\n      throw new Error(INTERNALS.STRINGS.ERROR_INIT_STRING_NAME);\n    }\n\n    const _name = (name || DEFAULT_APP_NAME).toUpperCase(); // return an existing app if found\n    // TODO in v5 remove deprecation and throw an error\n\n\n    if (APPS[_name]) {\n      console.warn(INTERNALS.STRINGS.WARN_INITIALIZE_DEPRECATION);\n      return APPS[_name];\n    } // only validate if app doesn't already exist\n    // to allow apps already initialized natively\n    // to still go through init without erroring (backwards compatibility)\n\n\n    if (!isObject(options)) {\n      throw new Error(INTERNALS.STRINGS.ERROR_INIT_OBJECT);\n    }\n\n    if (!options.apiKey) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('apiKey'));\n    }\n\n    if (!options.appId) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('appId'));\n    }\n\n    if (!options.databaseURL) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('databaseURL'));\n    }\n\n    if (!options.messagingSenderId) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('messagingSenderId'));\n    }\n\n    if (!options.projectId) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('projectId'));\n    }\n\n    if (!options.storageBucket) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_OPT('storageBucket'));\n    }\n\n    APPS[_name] = new App(_name, options);\n    return APPS[_name];\n  },\n\n  /**\n   * Bootstraps all native app instances that were discovered on boot\n   */\n  initializeNativeApps() {\n    for (let i = 0, len = FirebaseCoreModule.apps.length; i < len; i++) {\n      const app = FirebaseCoreModule.apps[i];\n      const options = Object.assign({}, app);\n      delete options.name;\n      APPS[app.name.toUpperCase()] = new App(app.name.toUpperCase(), options, true);\n    }\n  },\n\n  /**\n   *\n   * @param namespace\n   * @param statics\n   * @param moduleName\n   * @return {function(App=)}\n   */\n  moduleAndStatics(namespace, statics, moduleName) {\n    const getModule = (appOrUrlOrRegion, customUrlOrRegion) => {\n      let _app = appOrUrlOrRegion;\n\n      let _customUrlOrRegion = customUrlOrRegion || null;\n\n      if (typeof appOrUrlOrRegion === 'string' && CUSTOM_URL_OR_REGION_NAMESPACES[namespace]) {\n        _app = null;\n        _customUrlOrRegion = appOrUrlOrRegion;\n      } // throw an error if it's not a valid app instance\n\n\n      if (_app && !(_app instanceof App)) {\n        throw new Error(INTERNALS.STRINGS.ERROR_NOT_APP(namespace));\n      } else if (!_app) {\n        // default to the 'DEFAULT' app if no arg provided - will throw an error\n        // if default app not initialized\n        _app = this.app(DEFAULT_APP_NAME);\n      } // $FlowExpectedError: Flow doesn't support indexable signatures on classes: https://github.com/facebook/flow/issues/1323\n\n\n      const module = _app[namespace];\n      return module(_customUrlOrRegion);\n    };\n\n    return Object.assign(getModule, statics, {\n      nativeModuleExists: !!NativeModules[moduleName]\n    });\n  }\n\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}